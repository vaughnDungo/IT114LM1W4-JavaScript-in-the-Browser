<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .grandparent {
            width: 300px;
            height: 300px;
            background-color: red;
        }

        .parent {
            width: 200px;
            height: 200px;
            background-color: blue;
        }

        .child {
            width: 100px;
            height: 100px;
            background-color: green;
        }
    </style>
</head>

<body>
    <script>
        // Todo 3.1 When the page has loaded, log "The page has loaded"
        window.addEventListener("load", () => {
            console.log("The page has loaded");
        });

        // Todo 3.2a Create a button with the text "Call inline event handler".
        // Add an inline event handler that logs "From inline event handler" when the button is clicked.
        document.write('<button onclick="console.log(\'From inline event handler\')">Call inline event handler</button>');

        // Todo 3.3a Create a button with the text "Call addEventListener"
        // Todo 3.3b Add an event handler for the button created in 3.3a.
        // The event handler should log "From addEventListener" when the button is clicked
        const addEventListenerButton = document.createElement("button");
        addEventListenerButton.textContent = "Call addEventListener";
        addEventListenerButton.addEventListener("click", () => {
            console.log("From addEventListener");
        });
        document.body.appendChild(addEventListenerButton);

        // Todo 3.4a Create a form that accepts the first name and last name of the user
        // Todo 3.4b When the user presses the submit form button, append the contents of the form to results.
        // Then, display the content of results
        const results = {};
        const firstNameInput = document.createElement("input");
        const lastNameInput = document.createElement("input");
        const submitButton = document.createElement("button");

        firstNameInput.type = "text";
        firstNameInput.name = "firstName";
        firstNameInput.id = "firstName";

        lastNameInput.type = "text";
        lastNameInput.name = "lastName";
        lastNameInput.id = "lastName";

        submitButton.textContent = "Submit";
        submitButton.id = "submit-btn";
        submitButton.addEventListener("click", (e) => {
            e.preventDefault();
            results.firstName = firstNameInput.value;
            results.lastName = lastNameInput.value;
            console.log(results);
            // Additional actions (e.g., post to server) can be added here
        });

        document.body.appendChild(firstNameInput);
        document.body.appendChild(lastNameInput);
        document.body.appendChild(submitButton);

        // Todo 3.5 add event listeners for the grandparent, parent, and child divs.
        // When clicked, the grandparent, parent, and child should log "Grandparent", "Parent", and "Child" respectively
        const grandparent = document.querySelector(".grandparent");
        const parent = document.querySelector(".parent");
        const child = document.querySelector(".child");

        grandparent.addEventListener("click", () => {
            console.log("Grandparent");
        });

        parent.addEventListener("click", (e) => {
            e.stopPropagation(); // Prevents the event from reaching the grandparent
            console.log("Parent");
        });

        child.addEventListener("click", (e) => {
            e.stopPropagation(); // Prevents the event from reaching the parent and grandparent
            console.log("Child");
        });
    </script>

    <div>
        <h4>Todo 3.5</h4>
        <div class="grandparent">
            <div class="parent">
                <div class="child"></div>
            </div>
        </div>
    </div>
</body>

</html>
